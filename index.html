<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>Zambak Bahçesi</title>
<meta name="theme-color" content="#000000"/>
<style>
  :root{ --fg:#eef2ff; }

  html,body{height:100%;margin:0}
  body{
    background:#000; color:var(--fg);
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Helvetica Neue";
    overflow:hidden; -webkit-font-smoothing:antialiased;
  }

  /* arka plan video */
  .bg{
    position:fixed; inset:0; width:100%; height:100%;
    object-fit:cover; z-index:-2;
    filter:brightness(.82) contrast(1.08) saturate(1.02);
    background:#000;
  }

  /* ışıltılar (çok hafif) */
  .spark{
    position:fixed; left:0; top:0; width:4px; height:4px; border-radius:50%;
    background: radial-gradient(circle, #fff, rgba(255,255,255,0) 70%);
    opacity:0; pointer-events:none; z-index:-1; filter: blur(.3px);
    animation: sparkFloat 6s linear forwards;
  }
  @keyframes sparkFloat{
    0%   { transform: translate(var(--x), 105vh) scale(var(--s)); opacity:0 }
    10%  { opacity:.65 }
    90%  { opacity:.65 }
    100% { transform: translate(calc(var(--x) + var(--dx)), -10vh) scale(var(--s)); opacity:0 }
  }

  /* mesajlar */
  .stack{ position:fixed; inset:0; display:grid; place-items:center; pointer-events:none; }
  .msg{
    text-align:center; font-weight:700; line-height:1.28; letter-spacing:.2px;
    text-shadow:0 6px 28px rgba(0,0,0,.75);
    opacity:0; transform: translateY(8px) scale(.98);
    animation: fadeMsg var(--dur,6s) ease-in-out forwards;
    padding:0 20px; max-width:min(92vw, 980px);
  }
  @keyframes fadeMsg{
    0%   {opacity:0; transform: translateY(10px) scale(.98)}
    12%  {opacity:1; transform: translateY(0) scale(1)}
    88%  {opacity:1}
    100% {opacity:0; transform: translateY(-10px) scale(.98)}
  }

  /* sağ alttaki imza */
  .credit{
    position:fixed; right:14px; bottom:12px; z-index:3;
    font-size:12.5px; opacity:.9;
    background:rgba(0,0,0,.35); padding:6px 10px; border-radius:10px;
    border:1px solid rgba(255,255,255,.15); backdrop-filter:blur(6px);
  }

  /* başlangıç kapağı – tek tık */
  .overlay{
    position:fixed; inset:0; display:grid; place-items:center; z-index:5;
    background:linear-gradient(180deg, rgba(0,0,0,.30), rgba(0,0,0,.30));
  }
  .tap{
    font-weight:700; font-size: clamp(18px, 2.6vw, 28px);
    padding:14px 22px; border-radius:14px; cursor:pointer; user-select:none;
    background:rgba(0,0,0,.55); border:1px solid rgba(255,255,255,.22); color:var(--fg);
    box-shadow:0 10px 30px rgba(0,0,0,.35);
    transition: transform .12s ease;
  }
  .tap:active{ transform:scale(.98) }

  /* responsive metin */
  @media (max-width:480px){  .msg{ font-size:20px } }
  @media (min-width:481px) and (max-width:820px){ .msg{ font-size:26px } }
  @media (min-width:821px){ .msg{ font-size:34px } }
</style>
</head>
<body>

  <!-- video -->
  <video class="bg" id="bgVideo" playsinline autoplay muted loop>
    <source src="zambak.mp4" type="video/mp4">
  </video>

  <!-- müzik -->
  <audio id="bgm" src="m%C3%BCzik.mp3" loop preload="auto"></audio>

  <!-- ışıltılar üretilecek -->
  <div id="sparkLayer"></div>

  <!-- mesaj döngüsü alanı -->
  <div class="stack"><div id="msg" class="msg"></div></div>

  <!-- imza -->
  <div class="credit">emrullahaydogdu design</div>

  <!-- tek seferlik dokun/başlat -->
  <div class="overlay" id="overlay"><div class="tap" id="tapBtn">Buraya tıkla</div></div>

<script>
/* ========== hafif ışıltılar ========== */
const sparkLayer = document.getElementById('sparkLayer');
function spawnSpark(){
  const s = document.createElement('div');
  s.className = 'spark';
  s.style.setProperty('--x',  Math.random()*100 + 'vw');
  s.style.setProperty('--dx', (Math.random()*12 - 6) + 'vw');
  s.style.setProperty('--s',  (Math.random()*0.6 + 0.7).toFixed(2));
  s.style.animationDuration = (5 + Math.random()*4) + 's';
  sparkLayer.appendChild(s);
  s.addEventListener('animationend', ()=> s.remove());
}
// çok hafif yoğunluk
setInterval(()=>{ if(!document.hidden) spawnSpark(); }, 900);

/* ========== mesaj döngüsü ========== */
const msg = document.getElementById('msg');
const messages = [
  { text: "Her zaman yanında olacağım.", dur: 5000 },
  { text: "Sen bir gün zambakları sevmeyi bırakırsan; işte o gün ben de seni sevmeyi bırakırım.", dur: 8000 }
];
let idx = 0, loopStarted = false;
function rotateMessages(){
  const m = messages[idx % messages.length];
  msg.style.setProperty('--dur', (m.dur/1000)+'s');
  msg.textContent = m.text;
  msg.classList.remove('msg'); void msg.offsetWidth; msg.classList.add('msg');
  idx++; setTimeout(rotateMessages, m.dur);
}

/* ========== tek tıkla başlat ========== */
const audio = document.getElementById('bgm');
const overlay = document.getElementById('overlay');
const tapBtn  = document.getElementById('tapBtn');

async function startAll(){
  overlay.style.display = 'none';        // kapağı kaldır
  if(!loopStarted){ loopStarted = true; rotateMessages(); }
  try{ await audio.play(); }catch(_){/* bazı tarayıcılar sessiz bırakabilir */ }
}
tapBtn.addEventListener('click', startAll);
window.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') startAll(); });
</script>
</body>
</html>
